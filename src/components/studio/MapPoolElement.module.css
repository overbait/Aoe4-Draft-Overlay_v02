/* src/components/studio/MapPoolElement.module.css */
/* src/components/studio/MapPoolElement.module.css */

/* Using values from BoXSeriesOverview or define locally if different behavior is needed */
@value pickGlowColor: #00dd00; /* Green */
@value banGlowColor: #dd0000; /* Red */
@value adminPickGlowColor: #ffd700; /* Gold */

/* Keyframes for animations (can be shared if identical, but defined here for explicitness) */
@keyframes glow-intensify-pick-map {
  from { box-shadow: none; opacity: 0.5; /* Start slightly faded for effect if desired */ }
  to { box-shadow: 0 0 16px 6px pickGlowColor, 0 0 8px 4px pickGlowColor inset; opacity: 1; }
}
@keyframes glow-intensify-ban-map {
  from { box-shadow: none; opacity: 0.5; }
  to { box-shadow: 0 0 16px 6px banGlowColor, 0 0 8px 4px banGlowColor inset; opacity: 1; }
}

/* Animation classes to be applied by the hook */
.animatePickInitial {
  animation: glow-intensify-pick-map 0.5s ease-out forwards;
  /* Image opacity will be handled by inline style from the hook */
}
.animateBanInitial {
  animation: glow-intensify-ban-map 0.5s ease-out forwards;
  /* Image opacity will be handled by inline style from the hook */
}

/* Classes for the sustained glow state (target of 2s transition) */
.animatePickSustain {
  box-shadow: 0 0 8px 3px pickGlowColor, 0 0 5px 2px pickGlowColor inset;
  border-color: pickGlowColor; /* Ensure border also transitions if it changes */
  opacity: 1;
  transition: box-shadow 2s ease-out, border-color 2s ease-out, opacity 0.5s ease-out; /* Opacity transition for image */
}
.animateBanSustain {
  box-shadow: 0 0 8px 3px banGlowColor, 0 0 5px 2px banGlowColor inset;
  border-color: banGlowColor;
  opacity: 1;
  transition: box-shadow 2s ease-out, border-color 2s ease-out, opacity 0.5s ease-out;
}

/* Ensure the visual content itself can transition opacity for the image fade-in */
.mapItemVisualContent {
  /* ... existing styles ... */
  transition: opacity 0.5s ease-in-out, box-shadow 0.3s ease-out, border-color 0.3s ease-out; /* Added opacity transition */
}


.mapPoolElement {
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  position: relative;
  overflow: visible;
  padding: 5px;
  background-color: transparent;
}

.playerMapGrid {
  display: grid;
  grid-template-columns: repeat(5, 250px);
  grid-template-rows: repeat(4, auto);
  grid-auto-flow: column;
  grid-gap: 8px;
  box-sizing: border-box;
  padding: 5px; /* Overall padding for the grid itself */
  transition: transform 0.2s ease-out;
}

.player1Grid {
  /* Specific styles for player 1 grid if needed */
}

.player2Grid {
  direction: rtl;
}

.mapItemGridCell {
  padding: 0; /* grid-gap on parent now handles spacing */
  box-sizing: border-box;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
}

.mapItemVisualContent {
  box-sizing: border-box;
  border: 1px solid #c19a49; /* --aoe-gold-accent, from BoXSeriesOverview */
  border-radius: 3px; /* from BoXSeriesOverview */
  background-color: #4a3b2a; /* --aoe-button-bg, from BoXSeriesOverview */
  background-size: cover; /* Changed from contain */
  background-position: center;
  background-repeat: no-repeat;
  position: relative; /* For text overlay */
  color: white;
  text-shadow: 0 0 2px black, 0 0 2px black; /* from BoXSeriesOverview */
  display: flex;
  flex-direction: column;
  justify-content: flex-end; /* Align map name to the bottom */
  align-items: center; /* Center map name horizontally */
  padding: 4px; /* Reduced padding to make maps more rectangular - this is for INSIDE the card */
  overflow: hidden;
  /* transition property is now at the top of this class definition for clarity */
}

.mapName {
  font-family: 'Cinzel', serif; /* from BoXSeriesOverview */
  font-size: 1.76em; /* Changed from 1.6em */
  text-align: center;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  width: 100%;
  padding: 2px 0;
}

.placeholderText {
  color: #555;
  font-size: 0.8em;
  text-align: center;
  width: 100%; /* Spans full width of flex container */
  margin-bottom: 10px;
}

.noMapsMessage {
  color: #777;
  font-size: 0.9em;
  text-align: center;
  width: 100%; /* Spans full width of flex container */
  padding: 10px; /* Padding for the message box itself */
}

.mapItemVisualContent.picked {
  border-color: #00ff00; /* Green */
  box-shadow: 0 0 8px 3px #00dd00, 0 0 5px 2px #00dd00 inset;
}

.mapItemVisualContent.banned {
  border-color: #ff0000; /* Red */
  box-shadow: 0 0 8px 3px #dd0000, 0 0 5px 2px #dd0000 inset;
}

.mapItemVisualContent.affected {
  filter: grayscale(100%);
  border-color: #555;
}

.mapItemVisualContent.adminPicked {
  border-color: #ffd700; /* Gold */
  box-shadow: 0 0 8px 3px #ffd700, 0 0 5px 2px #ffd700 inset;
}
